# Laravel Lesson レビュー②

## Todo編集機能

### @method('PUT')を記述した行に何が出力されているか
@method('PUT')を追加して、PUTメソッドでリクエストを送信できるようにしており
この@method('PUT')を記述した行には以下のようなinputタグが出力される。

input type="hidden" name="_method" value="PUT"

HTMLの仕様として、form method="PUT"のようにPUTメソッドを指定することができないため
@method('PUT')を使用して、PUTメソッドでリクエストを送信できるようにしている。


### findメソッドの引数に指定しているIDは何のIDか
取得するデータのID。

### findメソッドで実行しているSQLは何か
指定されたIDを基にレコードを検索するためのSELECT文
（SELECT * FROM todos WHERE id = （$idで指定された値）））

### findメソッドで取得できる値は何か
指定のIDのデータを取得しており、
データベースのidカラムが$idの値と一致するレコードを取得できる。


### saveメソッドは何を基準にINSERTとUPDATEを切り替えているのか
モデルのインスタンスにIDが設定されているかどうかを基準に切り替えられる。
id（主キー）が設定されている場合、saveメソッドはそのIDを基にデータベース内のレコードを更新（UPDATE）し
id（主キー）が設定されていない場合、saveメソッドは新しいレコードを挿入（INSERT）する。



## Todo論理削除

### traitとclassの違いとは
クラスは通常インスタンス化されて使用されるが、トレイト自体はインスタンス化ができない。
またクラスの継承とは異なりトレイトは、1つのクラスに複数追加できる。
クラスはインスタンスを作る設計図で個別のオブジェクトを生成するために使用し
トレイトは、複数のクラスで共有したいメソッド群をまとめたもので、コードの再利用を目的に使用する。

### traitを使用するメリットとは
コードの再利用性：複数のクラスで同じメソッド群を共有できる。
柔軟性の向上：複数のトレイトを組み合わせることで、クラスに動的に機能を追加できる。
クラスの責任を小さく保つ：クラスの責任を細かく分割し、管理しやすくできる。



## その他

### TodoControllerクラスのコンストラクタはどのタイミングで実行されるか
コントローラのコンストラクタは、ルートがリクエストを受けて、コントローラがインスタンス化されるタイミングで実行される。
クライアントが/todos/{id}のURLにアクセスし、GETリクエストを送信し
LaravelがTodoControllerのインスタンスを作成した際にコンストラクタが実行される。

### RequestクラスからFormRequestクラスに変更した理由
今回は、文字数制限と空文字のまま作成をさせないようにするためのバリデーション機能の実装を行っており
FormRequestを使うと、バリデーションのロジックを専用のクラスに分けることができ、自動的にバリデーションを実行し
バリデーションが失敗した場合には、適切なエラーメッセージが返されるようにしたかったため。

### $errorsのhasメソッドの引数・返り値は何か
hasメソッドの引数は、入力欄のname属性でその入力欄でバリデーションエラーが発生しているか判定しているため
返り値は true または false となる。
true: 'content' フィールドにバリデーションエラーがある
false: 'content' フィールドにバリデーションエラーがない
と判定される。

### $errorsのfirstメソッドの引数・返り値は何か
firstメソッドの引数は入力欄のname属性で、その入力欄で最初に発生したエラーメッセージを出力している。
firstメソッドの返り値は、バリデーションルール（例：required、min）に基づいてエラーの種類をチェックし
最初に発生したエラーに対するメッセージとなる。

### フレームワークとは何か
フレームワークとは、文字通り「枠組み」のことで
すでに用意された枠組みに肉付けをするだけで誰でも一定品質のプロダクトを作成できるようにしたもの。
これを使うとゼロからコードを書く必要がなく、効率的に開発を進められるようになる。
フレームワークは開発のプロセスをサポートして開発者が繰り返し行う作業を簡素化し
コードの品質やセキュリティ、保守性を向上させる役割もある。

Laravelではファイルのディレクトリ構成があらかじめ決まっており
指定のディレクトリにファイルを配置したり、指定のファイルに処理を書き加えていくことで
効率よくアプリケーションを作成している。

フレームワークを学ぶことで下記2点のメリットが得られる。

1.容易に一定品質のプロダクトを作成することができる
2.枠組みが決定しているため初見のアプリケーションでもコードの記述場所などが特定しやすい

### MVCはどういったアーキテクチャか
MVCと呼ばれる開発効率を高めるために作られた構造 (アーキテクチャ)
Model (モデル)、View (ビュー)、Controller (コントローラ)

「WEBサーバから受け取ったリクエストを受け取ってからWEBサーバに返却するまで」の一連の流れにおいて
MVCそれぞれに役割を持たせる特徴がある。

Model	DBとのやり取りを司る
View	ユーザ (Client) に表示する画面の生成を司る
Controller	ユーザからの入力 (送信データ) に基づき、 Model・Viewの制御を司る
Routing	ユーザからの依頼（リクエスト）に応じてどの処理を動かすかの判断を司る

MVC構成を採用することで、再利用性と可読性という二つの恩恵を受けることができる。


### ORMとは何か、またLaravelが使用しているORMは何か

ORMとは、プログラミング言語のClassとデータベースのテーブルをマッピング（関連付け）することでSQLを直接操作することなく
データベースとマッピングされたClassのメソッドを用いることでDBとやり取りを行うことができる。
Laravelでは、データベースのテーブルとマッピングするClassがModelに当たる。
Laravelが使用しているORMはEloquent ORMで、シンプルな構文とモデルクラスとテーブルのマッピングが特徴。

### composer.json, composer.lockとは何か
composer.json は、プロジェクトで使用する依存パッケージ（ライブラリ）や、プロジェクトの設定情報を記述するためのファイルで
このファイルは、プロジェクトのルートディレクトリに配置される。

主な役割
依存パッケージの管理: どのパッケージをインストールするか、バージョン指定やその他のパッケージに関する設定を記述。
プロジェクトの設定情報: プロジェクト名、バージョン、ライセンス、オートローディングの設定など、プロジェクトの基本的な情報も含まれる。

composer.lock は、composer.json で指定された依存パッケージのバージョンを 固定 するためのファイルで
プロジェクトの依存関係が一貫して保たれ、異なる開発者やサーバーで同じパッケージバージョンがインストールされるようになる。

主な役割:
依存関係のバージョンを固定: composer.json で指定されたパッケージのバージョン範囲に基づいて、
実際にインストールされたパッケージのバージョンを記録する。
これにより、同じプロジェクトを他の開発者やサーバーでインストールした際に必ず同じパッケージバージョンがインストールされる。
インストールの再現性: チーム開発などで、他の開発者が同じバージョンの依存パッケージをインストールできるようにするためにcomposer.lock は重要。

### composerでインストールしたパッケージ（ライブラリ）はどのディレクトリに格納されるのか
Composerでインストールしたパッケージ（ライブラリ）は、通常プロジェクトのルートディレクトリにある
vendor ディレクトリに格納される。
